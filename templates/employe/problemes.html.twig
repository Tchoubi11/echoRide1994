{% extends 'base.html.twig' %}

{% block title %}Trajets signalés{% endblock %}

{% block body %}
<h2>Trajets signalés comme problématiques</h2>

{% for reservation in reservations %}
    <div class="card p-3 mb-3">
        <p><strong>Covoiturage n°:</strong> {{ reservation.covoiturage.id }}</p>
        <p><strong>Chauffeur:</strong> {{ reservation.covoiturage.conducteur.pseudo }} - {{ reservation.covoiturage.conducteur.email }}</p>
        <p><strong>Passager:</strong> {{ reservation.passager.pseudo }} - {{ reservation.passager.email }}</p>
        <p><strong>Départ:</strong> {{ reservation.covoiturage.lieuDepart }} le {{ reservation.covoiturage.dateDepart|date('d/m/Y H:i') }}</p>
        <p><strong>Arrivée:</strong> {{ reservation.covoiturage.lieuArrivee }} le {{ reservation.covoiturage.dateArrivee|date('d/m/Y H:i') }}</p>

        {% if reservation.detailsProbleme %}
            <p><strong>Description du problème :</strong> {{ reservation.detailsProbleme }}</p>
        {% else %}
            <p><em>Aucun détail fourni.</em></p>
        {% endif %}
    </div>
{% else %}
    <p>Aucun trajet signalé.</p>
{% endfor %}
<a href="{{ path('app_employe') }}" class="btn btn-secondary mb-3">← Retour à l'espace employé</a>

{% endblock %}