{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mt-5">
        <h2>Détails du covoiturage</h2>

        <div class="card p-3 shadow-sm">
            <img src="{{ asset('uploads/images/67c88b34e4a07.jpg') }}" alt="Profile Photo" class="driver-photo-icon" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
            <p><strong>Pseudo du chauffeur :</strong> {{ ride.driver.pseudo }}</p>
            <p><strong>Note :</strong> {{ ride.driver.rating }}⭐</p>
            <p><strong>Lieu de départ :</strong> {{ ride.lieuDepart }}</p>
            <p><strong>Lieu d'arrivée :</strong> {{ ride.lieuArrivee }}</p>
            <p><strong>Prix :</strong> {{ ride.prixPersonne }} €</p>
            <p><strong>Date et Heure de départ :</strong> {{ ride.dateDepart|date('d/m/Y') }} à {{ ride.heureDepart|date('H:i') }}</p>
            <p><strong>Date et Heure d'arrivée :</strong> {{ ride.dateArrivee|date('d/m/Y') }} à {{ ride.heureArrivee|date('H:i') }}</p>
            <p><strong>Voyage écologique :</strong> {{ ride.isEco ? 'Oui' : 'Non' }}</p>
        </div>

        <!-- Boutons de réservation et annulation -->
        {% if ride.nbPlace > 0 %}
            <a href="{{ path('reservation_book', {'id': ride.id}) }}" class="btn btn-success mt-3">Réserver</a>
        {% else %}
            <p class="mt-3 text-danger">Plus de places disponibles.</p>
        {% endif %}

        <!-- Redirection vers la page de recherche -->
        <a href="{{ path('search_route') }}" class="btn btn-primary mt-3">Retour à la liste des covoiturages</a>
    </div>
{% endblock %}
